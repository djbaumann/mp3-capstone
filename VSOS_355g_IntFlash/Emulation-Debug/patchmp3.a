
//_____________________________________________________________
//
	.sect code,KernelCodMpgCreate	// 16 words
	.export _KernelCodMpgCreate
_KernelCodMpgCreate:
	ldx (I6)+1,NULL	// I6 += 1
	stx LR0,(I6)+1
// cod
	call _CodMpgCreate
	stx A1,(I6) ; sty I0,(I6)
// jumped away
// (cod)
	sub A0,NULL,A0	// 'cod' == (0) -> (0)
	ldc 2,A1	// 2 -> 1 -> ET2
	jzs F0B1	// signed compare
	nop
// jumped away
// 	}
// {
// 		cod -> Decode = CodMpgDecodePatch;
	add A0,A1,A1	// 'cod' + ET2 -> AT6
	mv A1,I0	// AT6 -> ET3
	ldc _CodMpgDecodePatch,A1	// ET1
	stx A1,(I0)	// ET1 ==> ET3
F0B1:
	ldy (I6),I0 ; ldx (I6)-1,A1
	ldx (I6)-1,LR0
	jr
	nop
// jumped away

	.end
